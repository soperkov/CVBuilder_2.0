<form class="cvb-form" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
  <div class="mb-3">
    <label class="form-label" for="loginEmail">Email</label>
    <input
      id="loginEmail"
      type="email"
      class="form-control"
      placeholder="Enter your email"
      formControlName="email"
      [ngClass]="{
        'is-invalid':
          loginForm.get('email')?.touched && loginForm.get('email')?.invalid
      }"
    />
    <div
      class="invalid-feedback"
      *ngIf="loginForm.get('email')?.touched && loginForm.get('email')?.errors"
    >
      <span *ngIf="loginForm.get('email')?.errors?.['required']"
        >Email is required.</span
      >
      <span *ngIf="loginForm.get('email')?.errors?.['email']"
        >Invalid email format.</span
      >
    </div>
  </div>

  <div class="mb-3">
    <label class="form-label" for="loginPassword">Password</label>
    <div class="input-group">
      <input
        id="loginPassword"
        [type]="showPassword ? 'text' : 'password'"
        class="form-control"
        placeholder="Enter your password"
        formControlName="password"
      />
      <button
        type="button"
        class="btn btn-outline-secondary"
        (mousedown)="showPassword = true"
        (mouseup)="showPassword = false"
        (mouseleave)="showPassword = false"
        aria-label="Toggle password visibility"
      >
        ğŸ‘ï¸
      </button>
    </div>
  </div>

  <button
    class="btn btn-primary w-100"
    type="submit"
    [disabled]="loginForm.invalid"
  >
    Sign In
  </button>

  <p class="mt-3 text-center">
    Don't have an account?
    <a role="button" (click)="switchToRegister.emit()">Register here</a>
  </p>

  <div class="text-danger mt-2" *ngIf="errorMessage">{{ errorMessage }}</div>
</form>
